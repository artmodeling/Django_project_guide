# Как создать проект в Django

Создание нового проекта
1.	Сначала нужно стартовать (создать) наш новый проект.
2.	Проверить, что запущено виртуальное окружение. Если оно не запущено, то его нужно запустить:
    1)	Если это Windows, необходимо выполнить эту команду. Поскольку в данном случае работы выполняются в операционной системе (ОС) Windows, нужно выбрать этот вариант:
    ```
    source venv/Scripts/activate
    ```
    2)	Если это Linux или Mac:
    ```
    source venv/bin/activate
    ```
3.	Перейти в папку с файлами проекта (не гита, а именно проекта), должна быть активна иконка с листочками:
<picture>
<img alt="(001)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/001.png">
</picture>
 
4.	Для старта проекта выполнить команду в терминале (bash). В конце команды важно добавить точку, тогда Джанго папку «config» со всеми вложенными в нее файлами создаст в текущей папке. Если эту точку не поставить, то Джанго создаст папку «config», в ней еще одну папку «config» и уже в ней будут все файлы. В данном случае нужно, чтобы папка «config» была только одна:  
```
django-admin startproject config . 
```  
5.	Появится папка «config»:

<picture>
<img alt="(002)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/002.png">
</picture>

 
**Примечание.**  
VSC не всегда правильно отображает код (подчеркивает). Чтобы это убрать, нужно в VSC в правом нижнем углу найти надпись "Python" (если перед этим был открыт файл с кодом на Pyhton), после него идет иконка с человечками и сразу после нее идут цифры, например, 3.13.3. Нужно нажать на эти цифры, в верху VSC появится выпадающий список. В этом выпадающем списке нужно выбрать строку, где указано "venv". Если такой строки нет, то нужно нажать на строку "`Enter interpreter path...`" ("Ввести путь"). Там можно либо ввести путь, либо нажать на "Find", после этого войти в нужный проект, затем в папку "Scripts", выбрать файл python.exe . После этого VSC не будет "ругаться" на код.

## Запуск сервера Django.
6.	Убедитесь, что находитесь в папке самого проекта, то есть, активна иконка с двумя листочками - 

<picture>
<img alt="(003)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/003.png">
</picture>

 
7.	И из папки самого проекта запускать сервер. При его запуске (старте) появятся красные строки, при первом запуске на них можно не обращать внимания. Запустить сервер командой:  
`python manage.py runserver `  
**Примечание.**  
Когда понадобится остановить сервер, нужно перейти в терминал и нажать сочетание клавиш –  `Ctrl + C`.

8.	При запуске сервера в терминале будет показан адрес, где будет запущен сервер – строка «Starting development server at http://127.0.0.1:8000/ ». Можно открыть этот адрес (http://127.0.0.1:8000/) в браузере, то есть, скопировать этот адрес, перейти в браузер, вставить этот адрес в адресную строку и нажать Enter. Если все сделано правильно и сервер стартовал успешно, в браузере появится приветственное окно:

<picture>
<img alt="(004)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/004.png">
</picture>

 
9.	Чтобы перейти в админку (управление) сайта, в конец адреса нужно дописать «`/admin/`» (без кавычек) и нажать Enter. Откроется страница с окном для входа в админку (управление) сайта. Юзера для входа пока нет, поэтому здесь сейчас делать ничего не надо, просто убедиться, что все заработало, то есть, сайт и страница для входа в его админку открываются:

<picture>
<img alt="(005)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/005.png">
</picture>
 
10.	(Опционально.) Создать коммит: «Init: Создал конфигурационный пакет django.». И запушить его на гитхаб.
    1) В VSC перейти в гит. Задать имя коммита:
    
    <picture>
    <img alt="(006)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/006.png">
    </picture>

    
    2) Там же ниже будет показано, что файлы не готовы к отправке:
    
    <picture>
    <img alt="(007)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/007.png">
    </picture>

    
     
    3) Нажимая на «+» возле каждого файла, добавляем в «коробку» все файлы, **<ins>кроме</ins>** тех, которые находятся в папке «\_\_pycache__». Базу данных «db.sqlite3» пока она пустая на данном этапе можно удалить, чтобы она не добавлялась в коммит:
    
    <picture>
    <img alt="(008)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/008.png">
    </picture>

    
    4) В результате должно получиться так, что в «коробку» **<ins>должны попасть</ins>** только те файлы, которые **<ins>не находятся</ins>** в папке «config/\_\_pycache__»:
    
    <picture>
    <img alt="(009)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/009.png">
    </picture>

    
    5) Убедиться, что выбраны только нужные файлы.
    6) Выполнить «два в одном»: создать коммит и запушить его на гитхаб, для этого нужно нажать на синюю стрелочку вниз возле слова «Commit», после этого в выпадающем списке нажать на пункт «Commit & Push»:
    
    <picture>
    <img alt="(010)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/010.png">
    </picture>

    
 
## Создание файла «.gitignore».
11. Перейти в папку самого проекта.
12.	Уже в самом проекте создать файл «`.gitignore`», добавить в него на данный момент одну папку («\_\_pycache__/») и один файл («db.sqlite3»). В конце имени папки ставим «/», для того, чтобы Джанго «понимал» что это папка, а не файл:
```
__pycache__/ 
db.sqlite3
```

13.	**Примечание.** Папку «`migrations/`» сейчас не добавляем в этот файл. К тому же, на данном этапе ее пока еще и нет. Она появится позже. На гитхабе эта папка должна быть. Хотя на гитхабе она и должна быть всегда пустой. На гитхабе она, как правило, должна быть пустой и сейчас, и после выполнения любых работ. (На самом деле, она не обязательно должна быть пустой, но как правило, ее оставляют пустой на гитхабе. Джанго в папку «migrations/» сохраняет список действий, которые ему необходимо сделать для выполнения миграций. Эта информация занимает очень много места. Поэтому стараются ею не засорять пространство гитхаба. А миграции в любом случае нужно будет выполнить, если проект будет запускаться с другого компьютера.) - 

<picture>
<img alt="(011)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/011.png">
</picture>
 
14.	(Опционально.) Создать коммит «git: Создал .gitignore».  
    1) Перейти в папку гит, создать имя коммита, подготовить файл к отправке:      
    <picture>
    <img alt="(012)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/012.png">
    </picture>

    
    2) Выполнить «два в одном»: создать коммит и запушить его на гитхаб:  
    
    <picture>
    <img alt="(013)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/013.png">
    </picture>

    
    3) На гитхабе появился созданный коммит:  
    
    <picture>
    <img alt="(014)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/014.png">
    </picture>

 

## Создание приложения.
15.	Выполняется в папке самого проекта:

<picture>
<img alt="(015)" src="https://github.com/artmodeling/Django_project_guide/blob/main/Images/002_create_Django/015.png">
</picture>
 
16.	Сервер должен быть выключен. Он не должен работать. Если он работает, его нужно выключить. Для этого нужно перейти в терминал и нажать – `Ctrl + C`
17.	Способы создания приложения. Слово «store» – это имя проекта, его можно заменить на другое. Здесь точку писать не нужно:  
`django-admin startapp store` 
- или:  
`python manage.py startapp store`   

## Подключение приложения store.
18. В файле `config/settings.py` найти константу `INSTALLED_APPS`.  Для ускорения поиска можно нажать `Ctrl+Shift+.` (точка в конце). По аналогии с тем, как в этой константе составлен список в его конец добавить приложение - `'store',` (висячую запятую в конце добавлять обязательно нужно).
19. (Опционально.) Создание и отправка коммита «Init: Создал и подключил приложение store.»

## Создание первого маршрута.
**Примечание.** Здесь относительные пути не нужны, потому что Джанго сам вычисляет, где находится базовая директория. Это у него находится в файле "`config/settings.py`" в константе "`BASE_DIR`".  
20.	Создание маршрута.  
    1) В файле `config/urls.py`:  
    2) в строке "`from django.urls import path`" добавить "`, include`" (все - без кавычек),  
    3) в списке urlpatterns добавить строку, в которой пишем "", чтобы при переходе на сайт, открывалась главная страница:  
    `path("", include("store.urls"))`  
    4) В папке store создаем файл `urls.py` и пока что оставляем его пустым.  
21.	(Опционально.) Создать и запушить коммит: «Init: Подключил маршруты store в config.»  


## Создание 1-го эндпоинта (endpoint) - Те строки, которые находятся в файлах «store/urls.py» и «store/views.py».
22.	В файл «`store/urls.py`» записать код, следить за форматированием, нужны отступы слева и пустые строки между строками, как указано ниже:
```
from django.urls import path

from store.views import home_view # Можно так - from .views import home_view

urlpatterns = [
  path("", home_view)
]

```  

23.	В файл «`store/views.py`» записать код, следить за форматированием, нужны отступы слева и пустые строки между строкам, как указано ниже:
```
from django.shortcuts import render

from django.http import HttpResponse

def home_view(request):
  return HttpResponse("Главная страница")

```  

24.	Запустить сервер:  
`python manage.py runserver`  
25.	В браузере перейти по адресу – http://127.0.0.1:8000/ и проверить, что отображается текст: «Главная страница».
26.	(Опционально.) Создать и запушить коммит: «feat(main-page): Добавил функционал отображения главной страницы.»

После выполнения всех этих действий должен быть получен результат:
*	проект создан, 
*	первые маршруты проложены,
*	сервер запускается успешно,
*	на главной странице сайта отображается текст: «Главная страница».
*	все коммиты отправлены на гитхаб.
